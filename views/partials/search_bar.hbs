{{#section "js"}}
<script>
    // Get references to the city and district select elements
    const citySelect = document.querySelector('#city-select');
    const districtSelect = document.querySelector('#district-select');

    // Make an AJAX request to the provinces API to get the list of provinces
    fetch('https://provinces.open-api.vn/api/p/')
        .then(response => response.json())
        .then(provinces => {
            // Loop through the list of provinces and add them to the city select element
            provinces.forEach(province => {
                const option = document.createElement('option');
                option.value = province.code;
                option.textContent = province.name;
                citySelect.appendChild(option);
            });
        })
        .catch(error => console.error(error));

    // Add an event listener to the city select element to populate the district select element when a city is selected
    citySelect.addEventListener('change', event => {
        const cityCode = event.target.value;

        // Make an AJAX request to the provinces API to get the list of districts for the selected city
        fetch(`https://provinces.open-api.vn/api/p/${cityCode}?depth=2`)
            .then(response => response.json())
            .then(city => {
                // Clear the current options from the district select element
                districtSelect.innerHTML = '';

                // Loop through the list of districts for the selected city and add them to the district select element
                city.districts.forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.code;
                    option.textContent = district.name;
                    districtSelect.appendChild(option);
                });
            })
            .catch(error => console.error(error));
    });
</script>
{{/section}}
<div class="row justify-content-center" style="box-shadow: 0px 4px 10px rgba(182,182,182,0.18) !important;">
    <div class="col-8" style="">
        <div class="container-fluid text-center d-flex justify-content-start">
            <form class="d-flex " style="margin-bottom: 7px;">
                <button class="btn btn-outline-secondary me-1" type="submit">
                    <i class="fas fa-filter"></i> Lọc
                </button>
                <div class="cities me-2">
                    <select class="form-select" name="cities" id="city-select">
                        <option value="">&#x1F3D9; --Chọn Tỉnh--</option>
                    </select>
                </div>
                <div class="district me-2">
                    <select class="form-select" name="district" id="district-select">
                        <option value="">&#x1F3E0; --Chọn Quận--</option>
                    </select>
                </div>
                <div class="prices me-2">
                    <select class="form-select" name="prices" id="price-select">
                        <option value="">&#x1F4B0; --Chọn Giá--</option>
                        <option value="1">&#x1F4B0; Dưới 10 triệu đồng</option>
                        <option value="2">&#x1F4B0; Từ 20-40 triệu đồng</option>
                        <option value="3">&#x1F4B0; Từ 40-60 triệu đồng</option>
                        <option value="4">&#x1F4B0; Trên 60 triệu đồng</option>
                    </select>
                </div>
                <div class="square me-2">
                    <select class="form-select" name="squares" id="square-select">
                        <option value="">&#x25A0; --Chọn Diện Tích--</option>
                        <option value="1">&#x25A0; Dưới 10m2</option>
                        <option value="2">&#x25A0; Từ 10m2-20m2</option>
                        <option value="3">&#x25A0; Từ 20m2-30m2</option>
                        <option value="4">&#x25A0; Trên 30m2</option>
                    </select>
                </div>
            </form>
        </div>
    </div>
    <div class="col-3" style="flex:1; margin-right: 20px; margin-left:-90px">
        <form class="search-container">
            <input class="form-control me-2" type="text" placeholder="Search &#x1F50D;" aria-label="Search"
                style="flex: 1" name="q">
            <button class="btn btn-primary" type="submit">Search </button>
        </form>
    </div>
</div>